#include <stdio.h>
#include <fcntl.h>
#include <sys/types.h>
#include <sys/stat.h>
int main()
{
char ch; // Создаем переменную, в которую будем считывать символы
int a=0; // Переменная, для считывания строки пользователя
int lm=0; // Счетчик для чтения номер в строке
int nm=0; // счетчик для чтения символа в строке
int line[100][100]; // Создаем массив символов, где первая мерность - это срока, а вторая - символ
FILE *file = fopen("hello.txt","r"); // открываем файл для считывания
line[0][0];
while (read(file, &ch , sizeof(char))>0){ // пока не конец файла
nm++; // Увеличиваем счетчик символа
if (ch == ('\n')) { // Если находим символ переноса строки
line[lm][0]=nm; // записываем в первый символ строки - количество символов в строке
line[lm-1][1]=nm-line[lm-1][0];
lm ++; // Увеличиваем счетчик строки
}

}
scanf("%d", &a); // Считываем нужную пользователю строку
lseek(file,line[a][0],SEEK_SET); // Ставим положение курсора в нужное нам место
for(int i=0;i<line[a][1];i++){
read(file, &ch , sizeof(char)); // Загружаем символ в переменную ch
printf("%c",ch); // Выводим строку
}
return 0;
}
