#include <stdio.h>
#include <stdlib.h>
#include <fcntl.h>
#include <unistd.h>
#include <malloc.h>
int main(void)
{
    int fd; // 
    fd=open("textfile.txt", O_RDONLY);

    int charNum = lseek(fd, 0, SEEK_END);
    lseek (fd, 0, SEEK_SET);
    char buf[charNum];
    read(fd, buf, charNum);
    int stringCounter = 0;
    for (int counter = 0; counter < charNum; counter++)
    {
        if (buf[counter]=='\n')
            stringCounter++;
        printf("%c", buf[counter]);
    }

    int t = 1;
    int stringBeginPos[stringCounter];
    stringBeginPos[0] = 0;
    int localStringCounter = 1;
    
    for (int counter=0; counter < charNum; counter++)
    {
        if ((buf[counter]=='\n')  )
        {
            
            stringBeginPos[localStringCounter++] = counter + 1;
        
            
        }    
    }

    for (int counter = 0; counter < stringCounter; counter++)
    {
        printf("%d\n", stringBeginPos[counter]);
    }
    int choosenString = 1;
    while (true)
    {
        scanf("%d", &choosenString);
        for (int counter = stringBeginPos[choosenString-1]; buf[counter]!='\n'; counter++)
            printf("%c", buf[counter]);
    }
    return(0);
    }
