#include <stdio.h>
#include <stdlib.h>
#include <fcntl.h>
#include <unistd.h>
#include <malloc.h>
int main(void)
{
    int fd; // 
    fd=open("test.txt", O_RDONLY); 
    int charNum = lseek(fd, 0, SEEK_END);
    lseek (fd, 0, SEEK_SET);
    char buf[charNum];
    read(fd, buf, charNum);
    int stringCounter = 0;
    for (int i = 0; i < charNum; i++)
    {
        if (buf[i]=='\n')
            stringCounter++;
        printf("%c", buf[i]);
    }
    int stringBeginPos[stringCounter];
    stringBeginPos[0] = 0;
    int localStringCounter = 1;
    for (int i=0; i < charNum; i++)
    {
        if ((buf[i]=='\n')  )
        {
            stringBeginPos[localStringCounter++] = i + 1;
        }    
    }

    for (int i = 0; i < stringCounter; i++)
    {
        printf("%d\n", stringBeginPos[i]);
    }
    int choosenString = 1;
    while (true)
    {
        scanf("%d", &choosenString);
        for (int counter = stringBeginPos[choosenString-1]; buf[counter]!='\n'; counter++)
            printf("%c", buf[counter]);
    }
    return(0);
    }
